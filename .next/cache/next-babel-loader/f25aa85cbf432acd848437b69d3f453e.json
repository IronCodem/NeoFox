{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport { firestore, firebase } from './../Scripts/Firebase';\n\nvar User = /*#__PURE__*/function () {\n  function User() {\n    _classCallCheck(this, User);\n  }\n\n  _createClass(User, null, [{\n    key: \"Send\",\n    value: function Send(user, SID, data) {\n      conso; // Send batch related to ratelimiting\n\n      var batch = firestore.batch();\n      batch.set(firestore.collection(\"Servers/\".concat(SID, \"/Messages\")).doc(), {\n        Content: data,\n        Owner: user.displayName,\n        Created: firebase.firestore.FieldValue.serverTimestamp(),\n        Picture: user.photoURL,\n        UID: user.uid\n      });\n      batch.set(firestore.collection(\"Users/\".concat(user.uid, \"/Data\")).doc('rate'), {\n        last_write: firebase.firestore.FieldValue.serverTimestamp()\n      }, {\n        merge: true\n      });\n      batch.commit()[\"catch\"](function () {\n        return console.log('you have been rate limited');\n      });\n    }\n  }]);\n\n  return User;\n}();\n\nvar Send = User.Send;\nexport { Send };","map":{"version":3,"sources":["/home/runner/Chatter-React/pages/Scripts/Chatter.ts"],"names":["firestore","firebase","User","user","SID","data","conso","batch","set","collection","doc","Content","Owner","displayName","Created","FieldValue","serverTimestamp","Picture","photoURL","UID","uid","last_write","merge","commit","console","log","Send"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,uBAApC;;IAEMC,I;AACJ,kBAAc;AAAA;AAAE;;;;yBAEJC,I,EAAMC,G,EAAKC,I,EAAM;AAC3BC,MAAAA,KAAK,CADsB,CAE3B;;AACA,UAAIC,KAAK,GAAGP,SAAS,CAACO,KAAV,EAAZ;AACAA,MAAAA,KAAK,CAACC,GAAN,CACER,SAAS,CAACS,UAAV,mBAAgCL,GAAhC,gBAAgDM,GAAhD,EADF,EAEE;AACEC,QAAAA,OAAO,EAAEN,IADX;AAEEO,QAAAA,KAAK,EAAET,IAAI,CAACU,WAFd;AAGEC,QAAAA,OAAO,EAAEb,QAAQ,CAACD,SAAT,CAAmBe,UAAnB,CAA8BC,eAA9B,EAHX;AAIEC,QAAAA,OAAO,EAAEd,IAAI,CAACe,QAJhB;AAKEC,QAAAA,GAAG,EAAEhB,IAAI,CAACiB;AALZ,OAFF;AAUAb,MAAAA,KAAK,CAACC,GAAN,CACER,SAAS,CAACS,UAAV,iBAA8BN,IAAI,CAACiB,GAAnC,YAA+CV,GAA/C,CAAmD,MAAnD,CADF,EAEE;AACEW,QAAAA,UAAU,EAAEpB,QAAQ,CAACD,SAAT,CAAmBe,UAAnB,CAA8BC,eAA9B;AADd,OAFF,EAIK;AAAEM,QAAAA,KAAK,EAAE;AAAT,OAJL;AAMAf,MAAAA,KAAK,CAACgB,MAAN,YAAqB;AAAA,eAAMC,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAAN;AAAA,OAArB;AACD;;;;;;AAGH,IAAIC,IAAI,GAAGxB,IAAI,CAACwB,IAAhB;AACA,SACEA,IADF","sourcesContent":["import { firestore, firebase } from './../Scripts/Firebase';\n\nclass User {\n  constructor() {}\n\n  static Send(user, SID, data) {\n    conso\n    // Send batch related to ratelimiting\n    let batch = firestore.batch();\n    batch.set(\n      firestore.collection(`Servers/${SID}/Messages`).doc(),\n      {\n        Content: data,\n        Owner: user.displayName,\n        Created: firebase.firestore.FieldValue.serverTimestamp(),\n        Picture: user.photoURL,\n        UID: user.uid\n      }\n    );\n    batch.set(\n      firestore.collection(`Users/${user.uid}/Data`).doc('rate'),\n      {\n        last_write: firebase.firestore.FieldValue.serverTimestamp()\n      }, { merge: true }\n    );\n    batch.commit().catch(() => console.log('you have been rate limited'));\n  }\n}\n\nlet Send = User.Send;\nexport {\n  Send\n};"]},"metadata":{},"sourceType":"module"}