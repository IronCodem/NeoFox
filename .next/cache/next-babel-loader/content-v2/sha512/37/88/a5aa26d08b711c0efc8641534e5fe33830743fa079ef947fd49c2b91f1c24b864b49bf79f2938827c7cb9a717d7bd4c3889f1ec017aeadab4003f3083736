{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/home/runner/Chatter-React/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/runner/Chatter-React/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/runner/Chatter-React/pages/Components/Servers.tsx\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport styles from './../Style/Components/Servers.module.css';\nimport { firestore } from './../Scripts/Firebase'; //Modules \n\nimport Server from './Server';\n\nvar Servers = /*#__PURE__*/function (_React$Component) {\n  _inherits(Servers, _React$Component);\n\n  var _super = _createSuper(Servers);\n\n  function Servers(props) {\n    var _this;\n\n    _classCallCheck(this, Servers);\n\n    _this = _super.call(this, props); // create the snapshow listener\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      Active: '',\n      Servers: new Map()\n    });\n\n    firestore.collection('Users').doc(_this.props.User.uid).onSnapshot( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(User) {\n        var data, Saved_Active, Active, _Servers;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (User.exists) {\n                  data = User.data();\n                  Saved_Active = localStorage.getItem('Server');\n                  Active = Saved_Active && Object.keys(data.Servers).includes(Saved_Active) ? Saved_Active : Object.keys(data.Servers)[0];\n                  _Servers = new Map(Object.entries(data.Servers));\n\n                  _this.setState({\n                    Active: Active,\n                    Servers: _Servers\n                  });\n\n                  _this.props.Server_Select(Active, _Servers.get(Active));\n                } // deal with the user not having any servers\n\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), function () {});\n    return _this;\n  }\n\n  _createClass(Servers, [{\n    key: \"Change_Server\",\n    value: function Change_Server(evt, child) {\n      this.setState({\n        Active: child\n      });\n      this.props.Server_Select(child, this.state.Servers.get(child));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.Container,\n        children: [function () {\n          var Comps = [];\n\n          var _iterator = _createForOfIteratorHelper(_this2.state.Servers),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _step$value = _slicedToArray(_step.value, 2),\n                  key = _step$value[0],\n                  value = _step$value[1];\n\n              Comps.push( /*#__PURE__*/_jsxDEV(Server, {\n                id: key,\n                Name: value,\n                Active: _this2.state.Active,\n                customClickEvent: _this2.Change_Server.bind(_this2)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 17\n              }, _this2));\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n\n          return Comps;\n        }(), /*#__PURE__*/_jsxDEV(Server, {\n          id: this.props.User.uid,\n          Name: this.props.User.displayName,\n          Active: this.state.Active,\n          customClickEvent: this.Change_Server.bind(this),\n          Self: this.props.User.photoURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Servers;\n}(React.Component);\n\nexport default Servers;","map":{"version":3,"sources":["/home/runner/Chatter-React/pages/Components/Servers.tsx"],"names":["React","styles","firestore","Server","Servers","props","Active","Map","collection","doc","User","uid","onSnapshot","exists","data","Saved_Active","localStorage","getItem","Object","keys","includes","entries","setState","Server_Select","get","evt","child","state","Container","Comps","key","value","push","Change_Server","bind","displayName","photoURL","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './../Style/Components/Servers.module.css';\nimport { firestore } from './../Scripts/Firebase';\n//Modules \nimport Server from './Server';\ntype MyProps = { Server_Select: Function, User: any };\ntype MyState = { Active: string, Servers: Map<string, string> };\nclass Servers extends React.Component<MyProps, MyState> {\n  public state: MyState = { Active: '', Servers: new Map() };\n  constructor(props) {\n    super(props);\n    // create the snapshow listener\n    firestore.collection('Users').doc(this.props.User.uid).onSnapshot(async User => {\n        if (User.exists) {\n          let data = User.data();\n          let Saved_Active = localStorage.getItem('Server');\n          let Active: string = (Saved_Active && Object.keys(data.Servers).includes(Saved_Active)) ? Saved_Active : Object.keys(data.Servers)[0];\n          let Servers: Map<string, string> = new Map(Object.entries(data.Servers));\n          this.setState({ Active, Servers });\n          this.props.Server_Select(Active, Servers.get(Active))\n        }\n        // deal with the user not having any servers\n      }, () => {}\n    )\n  }\n  Change_Server(evt, child) {\n    this.setState({Active: child});\n    this.props.Server_Select(child,this.state.Servers.get(child))\n  }\n  render() {\n    return (\n      <section className={styles.Container}>\n        {\n          (() => {\n            let Comps = [];\n            for (let [key, value] of this.state.Servers) {\n              Comps.push(\n                <Server \n                  key={key}\n                  id={key}\n                  Name={value}\n                  Active={this.state.Active}\n                  customClickEvent={this.Change_Server.bind(this)}\n                />\n              );\n            }\n            return Comps;\n          })()\n        }\n        <Server id={this.props.User.uid} Name={this.props.User.displayName} Active={this.state.Active} customClickEvent={this.Change_Server.bind(this)} Self={this.props.User.photoURL}/>\n      </section>\n    );\n  }\n}\n\nexport default Servers;"]},"metadata":{},"sourceType":"module"}