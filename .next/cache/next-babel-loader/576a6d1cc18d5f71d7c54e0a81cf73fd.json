{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/runner/Chatter-React/pages/Components/Messages.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport styles from './../Style/Components/Messages.module.css';\nimport { firestore } from './../Scripts/Firebase';\nimport Message from './Message';\n\nvar Messages = /*#__PURE__*/function (_React$Component) {\n  _inherits(Messages, _React$Component);\n\n  function Messages(props) {\n    var _this;\n\n    _classCallCheck(this, Messages);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Messages).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      Messages: []\n    });\n\n    var Msgs = [];\n    console.log(\"Servers/\".concat(_this.props.SID, \"/Messages\"));\n    firestore.collection(\"Servers/\".concat(_this.props.SID, \"/Messages\")).limit(5).orderBy('Created', 'desc').onSnapshot(function _callee(Server) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Server.docChanges().forEach(function (_ref) {\n                var doc = _ref.doc,\n                    string = _ref.Change_Type;\n\n                if (Change_Type != 'removed') {\n                  var Data = doc.data();\n                  if (!Data.Created) return;\n                  console.log(Data); // Msgs.push(<Message Self=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Owner=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Username=\"Spotandjake100\" Picture=\"https://lh3.googleusercontent.com/a-/AOh14Gg6mjzn5KwNGqOcuCE9F_qS1X1Jci0vr4S3TeiTJQ=s96-c\" Content=\"test\"/>)\n                }\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }, function () {});\n    return _this;\n  }\n\n  _createClass(Messages, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"section\", {\n        className: styles.Container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, __jsx(Message, {\n        Self: \"mHvcak8OjqZglBlENhQSLqBOgPB3\",\n        Owner: \"mHvcak8OjqZglBlENhQSLqBOgPB3\",\n        Username: \"Spotandjake100\",\n        Picture: \"https://lh3.googleusercontent.com/a-/AOh14Gg6mjzn5KwNGqOcuCE9F_qS1X1Jci0vr4S3TeiTJQ=s96-c\",\n        Content: \"test\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Messages;\n}(React.Component);\n\nexport default Messages;","map":{"version":3,"sources":["/home/runner/Chatter-React/pages/Components/Messages.tsx"],"names":["React","styles","firestore","Message","Messages","props","Msgs","console","log","SID","collection","limit","orderBy","onSnapshot","Server","docChanges","forEach","doc","string","Change_Type","Data","data","Created","Container","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,2CAAnB;AAEA,SAASC,SAAT,QAA0B,uBAA1B;AAEA,OAAOC,OAAP,MAAoB,WAApB;;IAIMC,Q;;;AAEJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,4DADK;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KACL;;AAEjB,QAAIE,IAAe,GAAG,EAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,mBAAuB,MAAKH,KAAL,CAAWI,GAAlC;AACAP,IAAAA,SAAS,CAACQ,UAAV,mBAAgC,MAAKL,KAAL,CAAWI,GAA3C,gBAA2DE,KAA3D,CAAiE,CAAjE,EAAoEC,OAApE,CAA4E,SAA5E,EAAuF,MAAvF,EACGC,UADH,CACc,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AACVA,cAAAA,MAAM,CAACC,UAAP,GAAoBC,OAApB,CAA4B,gBAAkC;AAAA,oBAA/BC,GAA+B,QAA/BA,GAA+B;AAAA,oBAAbC,MAAa,QAA1BC,WAA0B;;AAC5D,oBAAIA,WAAW,IAAI,SAAnB,EAA8B;AAC5B,sBAAMC,IAAI,GAAGH,GAAG,CAACI,IAAJ,EAAb;AACF,sBAAI,CAACD,IAAI,CAACE,OAAV,EAAmB;AACjBf,kBAAAA,OAAO,CAACC,GAAR,CAAYY,IAAZ,EAH4B,CAI5B;AACD;AACF,eAPD;;AADU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADd,EAUK,YAAM,CAAE,CAVb;AAJiB;AAgBlB;;;;6BACQ;AACP,aACE;AAAS,QAAA,SAAS,EAAEnB,MAAM,CAACsB,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,OAAD;AAAS,QAAA,IAAI,EAAC,8BAAd;AAA6C,QAAA,KAAK,EAAC,8BAAnD;AAAkF,QAAA,QAAQ,EAAC,gBAA3F;AAA4G,QAAA,OAAO,EAAC,2FAApH;AAAgN,QAAA,OAAO,EAAC,MAAxN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD;;;;EAzBoBvB,KAAK,CAACwB,S;;AA2B7B,eAAepB,QAAf","sourcesContent":["import React from 'react';\n\nimport styles from './../Style/Components/Messages.module.css';\n\nimport { firestore } from './../Scripts/Firebase';\n\nimport Message from './Message';\n\ntype MyProps = { SID: string };\ntype MyState = { Messages: Message[] };\nclass Messages extends React.Component<MyProps, MyState> {\n  public state: MyState = { Messages: [] }\n  constructor(props) {\n    super(props);\n    let Msgs: Message[] = [];\n    console.log(`Servers/${this.props.SID}/Messages`);\n    firestore.collection(`Servers/${this.props.SID}/Messages`).limit(5).orderBy('Created', 'desc')\n      .onSnapshot(async Server => {\n        Server.docChanges().forEach(({ doc, Change_Type: string }) => {\n          if (Change_Type != 'removed') {\n            const Data = doc.data();\n          if (!Data.Created) return;\n            console.log(Data);\n            // Msgs.push(<Message Self=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Owner=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Username=\"Spotandjake100\" Picture=\"https://lh3.googleusercontent.com/a-/AOh14Gg6mjzn5KwNGqOcuCE9F_qS1X1Jci0vr4S3TeiTJQ=s96-c\" Content=\"test\"/>)\n          }\n        });\n      }, () => {}\n    )\n  }\n  render() {\n    return (\n      <section className={styles.Container}>\n        <Message Self=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Owner=\"mHvcak8OjqZglBlENhQSLqBOgPB3\" Username=\"Spotandjake100\" Picture=\"https://lh3.googleusercontent.com/a-/AOh14Gg6mjzn5KwNGqOcuCE9F_qS1X1Jci0vr4S3TeiTJQ=s96-c\" Content=\"test\"/>\n      </section>\n    );\n  }\n}\nexport default Messages;"]},"metadata":{},"sourceType":"module"}